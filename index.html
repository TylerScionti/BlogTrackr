
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html ng-app='blogtrk'>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Blog Tracker</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">


</head>
<body>

<div class='container-fluid' ng-controller='ResultController'>
	<div class="jumbotron text-center">
	
		<h1>Blog Trackr</h1>
		<p> Powered by Alchemy API </p>
		<form class="form-inline">
			<input type="url" class="form-control" size="50" placeholder="Enter your blog URL" ng-model='url1'>
			<button type="button" class="btn btn-primary" ng-click='search()'>Search<span class="glyphicon glyphicon-search"></span></button>
		</form>
		<div ng-show='error!=null'>
			{{error}}
		</div>
		
	</div>

		
	
	<div class="row">
		<div class="col-sm-12" >&nbsp;</div>
		
	</div>
	<div class="row" ng-show='results.length>0'>
		<ul class="nav nav-pills">
			<li class="active"><a href="#">All</a></li>
			<li><a href="#">Article</a></li>
			<li><a href="#">Person</a></li>
			<li><a href="#">Company</a></li>
		</ul>
	</div>
	<div class="row" >
		<div class="col-sm-12" ng-repeat='r in results'>
		<div class="panel panel-default">
	      <div class="panel-heading"><a href="{{r.source.enriched.url.url}}">{{r.source.enriched.url.title}}</a></div>
	      <div class="panel-body">
	      	<p>{{r.source.enriched.url.text}}</p>
	      </div>
	     </div> 
	    </div>
		
	</div>
	</div>

<script>
	(function(angular) {
  'use strict';
  
	var app=angular.module("blogtrk",[]);
	var keywordExtURL='https://gateway-a.watsonplatform.net/calls/url/URLGetRankedKeywords';
    var newsURL='https://gateway-a.watsonplatform.net/calls/data/GetNews';
	app.controller('ResultController',["$scope","$http","$timeout",function($scope,$http,$timeout){
		$scope.url1='';
		$scope.error=null;
		$scope.results=[];
		$scope.search=function(){
			 //alert($scope.url1);
			
			$scope.error=null;
//			 	 $scope.search=function(url){
			 //alert(url);
			 var keyWordsResult='';
			 var req={
					 
					 url: keywordExtURL+'?apikey=a1c6edf12581300441a7afd2c3add4c5ad2b22e2&url='+$scope.url1+'&outputMode=json',
					 method:'GET'
				 
			 };
			  $http(req).then(function(response){
				 	debugger;
					if(response.data.status=="ERROR"){
						$scope.error='Alchemy API Error : GetRankedKeywords :  '+response.data.statusInfo +' - result with hardcoded values';
						response.data={
							"status": "OK",
							"usage": "By accessing AlchemyAPI or using information generated by AlchemyAPI, you are agreeing to be bound by the AlchemyAPI Terms of Use: http://www.alchemyapi.com/company/terms.html",
							"url": "http://monstah-mash.com/",
							"totalTransactions": "1",
							"language": "english",
							"keywords": [
								{
									"relevance": "0.912852",
									"text": "complete game shutout"
								},
								{
									"relevance": "0.90168",
									"text": "David Ortiz foundation"
								},
								{
									"relevance": "0.890638",
									"text": "game David Ortiz"
								},
								{
									"relevance": "0.817825",
									"text": "amazing career David"
								},
								{
									"relevance": "0.717146",
									"text": "Sox game"
								},
								{
									"relevance": "0.692891",
									"text": "Steven Wright"
								},
								{
									"relevance": "0.682888",
									"text": "Vin Scully"
								},
								{
									"relevance": "0.676009",
									"text": "past weekend"
								},
								{
									"relevance": "0.675031",
									"text": "big slugger"
								},
								{
									"relevance": "0.649008",
									"text": "great night"
								},
								{
									"relevance": "0.643205",
									"text": "tremendous game"
								},
								{
									"relevance": "0.632032",
									"text": "final season"
								},
								{
									"relevance": "0.488214",
									"text": "innings"
								},
								{
									"relevance": "0.476373",
									"text": "Dodgers"
								},
								{
									"relevance": "0.464968",
									"text": "pitcher"
								},
								{
									"relevance": "0.452052",
									"text": "person"
								},
								{
									"relevance": "0.450813",
									"text": "hits"
								},
								{
									"relevance": "0.444739",
									"text": "LA"
								},
								{
									"relevance": "0.44197",
									"text": "baseball"
								},
								{
									"relevance": "0.440522",
									"text": "performances"
								},
								{
									"relevance": "0.44031",
									"text": "team"
								}
							]
						};
						
						//return;
					}
			 	 	$.each(response.data.keywords,function(index,value){
			 	 		if(value.relevance>0.5){
			 	 		if(index>0){
			 	 			keyWordsResult=''+keyWordsResult+'^'+value.text;
			 	 			
			 	 		}else{
			 	 			keyWordsResult=value.text;
			 	 		
			 	 		}
			 	 		return true;
			 	 		}
			 	 		return false;
			 	 	});
			 	 	keyWordsResult='O['+keyWordsResult+']';
			 	 	console.log(keyWordsResult);
			 	 	newsURL=newsURL+'?apikey=a1c6edf12581300441a7afd2c3add4c5ad2b22e2'
			 	 	+'&start=now-30d'
			 	 	+'&end=now'
			  		+'&outputMode=json'
			  		+'&return=original.url,enriched.url.text,enriched.url.url,enriched.url.title'
			  		+'&q.enriched.url.title='+keyWordsResult;
			 	 	var req2={
			 	 		method:'GET',
				  		url: newsURL
				  				  	
				  		
			  		};
			 	 	$http(req2).then(function(resp){
						if(resp.data.status=="ERROR"){
							$scope.error='Alchemy API Error : GetNews   :'+resp.data.statusInfo+' - result with hardcoded values';
							resp.data={
								"status": "OK",
								"usage": "By accessing AlchemyAPI or using information generated by AlchemyAPI, you are agreeing to be bound by the AlchemyAPI Terms of Use: http://www.alchemyapi.com/company/terms.html",
								"totalTransactions": "8680",
								"result": {
									"docs": [
										{
											"id": "MTE3ODMxOTkzMnwxNDcxOTYwOTY2",
											"source": {
												"enriched": {
													"url": {
														"text": "Print News - 'Teen Wolf' Season 6 Updates: Stiles and Lydia Will Develop a Romantic Relationship; Release Date of the Series' Final Season Disclosed\nSeason 6 of \"Teen Wolf\" will air on November, and fans expect that all their questions about the mysteries that happen in Beacon Hills will be solved soon. Questions like, \"Will Lydia Martin and Stiles Stilinski end up together?\" and \"Will there be a love triangle between Lydia, Stiles, and Malia in the future?\" will hopefully be answered in the coming season. ...",
														"title": "Print News - 'Teen Wolf' Season 6 Updates: Stiles and Lydia Will Develop a Romantic Relationship; Release Date of the Series' Final Season Disclosed",
														"url": "http://www.christianpost.com/news/teen-wolf-season-6-updates-stiles-and-lydia-will-develop-a-romantic-relationship-release-date-of-the-series-final-season-disclosed-168384/print.html"
													}
												},
												"original": {
													"url": "http://www.christianpost.com/news/teen-wolf-season-6-updates-stiles-and-lydia-will-develop-a-romantic-relationship-release-date-of-the-series-final-season-disclosed-168384/print.html"
												}
											},
											"timestamp": 1471960966
										},
										{
											"id": "MTA2MTQ2MzA3NXwxNDcxOTUwMDc4",
											"source": {
												"enriched": {
													"url": {
														"text": "Print News - 'Bates Motel' Not A Horror Show Says Chris Bacon; Emmy-Nominated Composer Explains Twisted Relationship Between Mother and Son; Final Season to Air 2017\n Emmy-nominated composer  Chris Bacon explained in a webcam interview \u00A0that \"Bates Motel\" is not a horror story, like what most viewers and fans say. The composer clarified that this \"Psycho\" prequel is all about the \"twisted and misdirected\" relationship between mother and son. ...",
														"title": "Print News - 'Bates Motel' Not A Horror Show Says Chris Bacon; Emmy-Nominated Composer Explains Twisted Relationship Between Mother and Son; Final Season to Air 2017",
														"url": "http://www.christianpost.com/news/bates-motel-not-a-horror-show-says-chris-bacon-emmy-nominated-composer-explains-twisted-relationship-between-mother-and-son-final-season-to-air-2017-168390/print.html"
													}
												},
												"original": {
													"url": "http://www.christianpost.com/news/bates-motel-not-a-horror-show-says-chris-bacon-emmy-nominated-composer-explains-twisted-relationship-between-mother-and-son-final-season-to-air-2017-168390/print.html"
												}
											},
											"timestamp": 1471950078
										},
										{
											"id": "OTYxNTAyOTIwfDE0NzE5NDE4NjU",
											"source": {
												"enriched": {
													"url": {
														"text": "The 2013 Comic-Con was bittersweet for Breaking Bad creator Vince Gilligan: the gang won't be back to promote their show next year, because the story that began with Walter White standing in his underwear next to crashed RV is coming to an end starting August 11th. That's when the final eight episodes of Breaking Bad\u2019s five-season run will begin airing on AMC. Of the much-anticipated conclusion to one of the most compelling shows in television history (well, in MY opinion, anyway), Gilligan says only this: \"I\u2019m satisfied with the ending. ...",
														"title": "'Breaking Bad' Final Season Spoilers & New Trailer from Comic-Con (VIDEO) | The Stir",
														"url": "http://thestir.cafemom.com/entertainment/158660/breaking_bad_final_season_spoilers?utm_medium=sm&utm_source=rss&utm_content=entertainment_rssfeed"
													}
												},
												"original": {
													"url": "http://thestir.cafemom.com/entertainment/158660/breaking_bad_final_season_spoilers?utm_medium=sm&utm_source=rss&utm_content=entertainment_rssfeed"
												}
											},
											"timestamp": 1471941865
										},
										{
											"id": "MTM5NzE1MDcyNHwxNDcxOTEwNDAw",
											"source": {
												"enriched": {
													"url": {
														"text": "While this 2016 season marks the 42nd year for Dallas Cowboys Star Magazine, it will also mark its last as a print publication. Following the 2016 season, the official magazine of the Cowboys will be transitioning to a new and improved online experience that will compliment the team\u2019s website, DallasCowboys.com. ...",
														"title": "STAR: Final Season of Print; Farewell Offer: $25 for 20 Issues",
														"url": "http://www.dallascowboys.com/news/2016/08/23/star-final-season-print-farewell-offer-25-20-issues"
													}
												},
												"original": {
													"url": "http://www.dallascowboys.com/news/2016/08/23/star-final-season-print-farewell-offer-25-20-issues"
												}
											},
											"timestamp": 1471910400
										},
										{
											"id": "MTM2MTYyNTEyNXwxNDcxOTEwNDAw",
											"source": {
												"enriched": {
													"url": {
														"text": "* The Phillies are averaging over five runs per game in August, a significant increase from their 3.55 runs/game scoring output entering this month.\n* Jose Abreu has been an extremely tough out at U.S. Cellular during the second half of this season, hitting .452 (19/42).\n* Ryan Howard has 38 career home runs in interleague play, tied with Jayson Werth for the most by any current National League player.\n* Carlos Rodon has been solid on the mound in August, allowing just four earned runs in 18 innings.\n* The White Sox have recorded 10 or more hits in 12 of their ballgames this month.\n",
														"title": "White Sox Game Notes For Tuesday vs. Philadelphia",
														"url": "http://wgntv.com/2016/08/23/white-sox-game-notes-for-tuesday-vs-philadelphia/"
													}
												},
												"original": {
													"url": "http://wgntv.com/2016/08/23/white-sox-game-notes-for-tuesday-vs-philadelphia/"
												}
											},
											"timestamp": 1471910400
										},
										{
											"id": "MTA1ODc0NzY5M3wxNDcxOTEwNDAw",
											"source": {
												"enriched": {
													"url": {
														"text": " Emmy-nominated composer  Chris Bacon explained in a webcam interview \u00A0that \"Bates Motel\" is not a horror story, like what most viewers and fans say. The composer clarified that this \"Psycho\" prequel is all about the \"twisted and misdirected\" relationship between mother and son. ...",
														"title": "'Bates Motel' Not A Horror Show Says Chris Bacon; Emmy-Nominated Composer Explains Twisted Relationship Between Mother and Son; Final Season to Air 2017",
														"url": "http://www.christianpost.com/news/bates-motel-not-a-horror-show-says-chris-bacon-emmy-nominated-composer-explains-twisted-relationship-between-mother-and-son-final-season-to-air-2017-168390/"
													}
												},
												"original": {
													"url": "http://www.christianpost.com/news/bates-motel-not-a-horror-show-says-chris-bacon-emmy-nominated-composer-explains-twisted-relationship-between-mother-and-son-final-season-to-air-2017-168390/"
												}
											},
											"timestamp": 1471910400
										},
										{
											"id": "MTA2MjcxMzAyNHwxNDcxOTEwNDAw",
											"source": {
												"enriched": {
													"url": {
														"text": " Emmy-nominated composer  Chris Bacon explained in a webcam interview \u00A0that \"Bates Motel\" is not a horror story, like what most viewers and fans say. The composer clarified that this \"Psycho\" prequel is all about the \"twisted and misdirected\" relationship between mother and son. ...",
														"title": "'Bates Motel' Not A Horror Show Says Chris Bacon; Emmy-Nominated Composer Explains Twisted Relationship Between Mother and Son; Final Season to Air 2017",
														"url": "http://www.christianpost.com/news/bates-motel-not-a-horror-show-says-chris-bacon-emmy-nominated-composer-explains-twisted-relationship-between-mother-and-son-final-season-to-air-2017-168390/email.html"
													}
												},
												"original": {
													"url": "http://www.christianpost.com/news/bates-motel-not-a-horror-show-says-chris-bacon-emmy-nominated-composer-explains-twisted-relationship-between-mother-and-son-final-season-to-air-2017-168390/email.html"
												}
											},
											"timestamp": 1471910400
										},
										{
											"id": "NjYzNzU5NjA1fDE0NzE5MDQzOTU",
											"source": {
												"enriched": {
													"url": {
														"text": "ST. PETERSBURG, Fla. -- Knuckleballer Steven Wright will return to the Red Sox rotation on Friday at Fenway Park, manager John Farrell said, barring any setbacks after a bullpen session Tuesday at Tropicana Field. Wright has not pitched since a complete-game shutout on Aug. 5 against the Los Angeles Dodgers, two days before he injured his shoulder diving back into second base during an appearance as a pinch-runner. ...",
														"title": "Steven Wright slated for Friday return",
														"url": "http://www.providencejournal.com/sports/20160822/steven-wright-slated-for-friday-return"
													}
												},
												"original": {
													"url": "http://www.providencejournal.com/sports/20160822/steven-wright-slated-for-friday-return"
												}
											},
											"timestamp": 1471904395
										},
										{
											"id": "NjYxMjAxMDc3fDE0NzE5MDQwNzU",
											"source": {
												"enriched": {
													"url": {
														"text": "Former UNCW center C.J. Gettys plans to play his final season at Rutgers. The 7-footer from Ohio revealed his decision via his personal Twitter page on Monday afternoon. ...",
														"title": "Hoops (M): C.J. Gettys to play final season at Rutgers |",
														"url": "http://dubhub.blogs.starnewsonline.com/28184/hoops-m-c-j-gettys-to-play-final-season-at-rutgers/"
													}
												},
												"original": {
													"url": "http://dubhub.blogs.starnewsonline.com/28184/hoops-m-c-j-gettys-to-play-final-season-at-rutgers/"
												}
											},
											"timestamp": 1471904075
										},
										{
											"id": "NTk1MTE3NzQzfDE0NzE4OTg3MTg",
											"source": {
												"enriched": {
													"url": {
														"text": "         T-Mobile's Green Monster Giveaway    \nGet to your local T-Mobile location to get the text codeword to send to 37937 to enter to win four tickets to sit on top of the Green Monster for a Boston baseball game!...\n         Sleep Number - Behind The Numbers    \n\u00A0WEEI and Sleep Number are giving you a once in a lifetime opportunity to go behind the numbers at Boston's historic ballpark! Fill out the form below to enter to win the...\nE-Rod missed another start, this time taking himself out the evening before his start. ...",
														"title": "Eduardo Rodriguez suffers another setback this past weekend 8-22-16",
														"url": "http://media.weei.com/a/116414752/eduardo-rodriguez-suffers-another-setback-this-past-weekend-8-22-16.htm"
													}
												},
												"original": {
													"url": "http://media.weei.com/a/116414752/eduardo-rodriguez-suffers-another-setback-this-past-weekend-8-22-16.htm"
												}
											},
											"timestamp": 1471898718
										}
									],
									"next": "OTA5NjQyNTk2NjUwNTA5ODM1fHwxNTY2NzY1Mzc5MTcwOTkxMDI2fHwxNzcxODc2MjkwMjI3MTk0MTMwfE1UQTFPRGMwTnpZNU0zd3hORGN4T1RFd05EQXd8NjM0OTMzODQyODIwNDQwMzgzMnxOVGsxTVRFM056UXpmREUwTnpFNE9UZzNNVGd8NzYwMjA2MDc4MDU3MzUyNjE3NXx8NzkyNzEzNTg2MTkxMTU0ODI1MHx8ODUzMzQ2MDc4NjYwNDQ1NzIwOHx8OTE4ODY2MDM3OTYyODY1ODg4NXxOall4TWpBeE1EYzNmREUwTnpFNU1EUXdOelV8MTIwNTMxMjkwNDUzOTA2NTcwNjl8fDE0MzYwMjQ0Nzk5NDM1MjEyNDMzfHwxNjgwNjU1MjU1OTkyOTg2ODE2Nnx8MTY5MjcxMzg2OTg1NjY0OTcwNjR8",
									"status": "OK"
								}
							};		
							//return;
						}
			 	 		$scope.results=resp.data.result.docs;
			 	 		
			 	 		
			 	 	},function(resp){
			 	 		
			 	 		
			 	 	});
			 	 	
			 },function(response){
				 console.log(response);
			 });

			 
			
		 	
		};
	
	}]);
	
  })(window.angular); 
	</script>
</body>
</html>
